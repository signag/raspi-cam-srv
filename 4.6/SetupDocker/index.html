
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../service_configuration/">
      
      
        <link rel="next" href="../bp_PiZero_Standalone/">
      
      
        
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Running raspiCamSrv as Docker container - raspiCamSrv V4.6.x Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#running-raspicamsrv-as-docker-container" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="raspiCamSrv V4.6.x Documentation" class="md-header__button md-logo" aria-label="raspiCamSrv V4.6.x Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            raspiCamSrv V4.6.x Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Running raspiCamSrv as Docker container
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="raspiCamSrv V4.6.x Documentation" class="md-nav__button md-logo" aria-label="raspiCamSrv V4.6.x Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    raspiCamSrv V4.6.x Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" checked>
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Alternatives
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Alternatives
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation_man/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manual Step by Step Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Running raspiCamSrv as Docker container
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Running raspiCamSrv as Docker container
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#useful-docker-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Useful Docker commands
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Update Procedure
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-of-docker-on-a-raspberry-pi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation of Docker on a Raspberry Pi
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checking-contiguous-memory-cma" class="md-nav__link">
    <span class="md-ellipsis">
      
        Checking Contiguous Memory (CMA)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deactivate-raspicamsrv-service-from-manual-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deactivate raspiCamSrv Service from manual Installation
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bp_PiZero_Standalone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup of Raspberry Pi Zero as Standalone System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5_5" id="__nav_2_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Configuring as Hotspot
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configuring as Hotspot
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bp_Hotspot_Trixie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hotspot Setup for Trixie
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bp_Hotspot_Bookworm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hotspot Setup for Boookworm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bp_Hotspot_Bullseye/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hotspot Setup for Bullseye
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Troubelshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trouble Shooting Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Features
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    References
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    References
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../picamera2_manual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Picamera2 Manual
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Releases
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Releases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ReleaseNotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../updating_raspiCamSrv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating a raspiCamSrv Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UserGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Live Menu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Live Menu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LiveScreen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Live Screen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_2" >
        
          
          <label class="md-nav__link" for="__nav_6_3_2" id="__nav_6_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Camera Controls
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Camera Controls
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CameraControls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FocusHandling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Focus Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ZoomPan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zoom/Pan/Tilt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CameraControls_AutoExposure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Auto-Exposure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CameraControls_Exposure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exposure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CameraControls_Image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Image
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CameraControls_UsbCams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Camera Controls for USB Cameras
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ScalerCrop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cropping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LiveDirectControl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Direct Control Panel
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Phototaking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Photo / Video Taking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Config Menu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Config Menu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raspiCamSrv Camera Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Configuration_AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raspiCamSrv Camera AI Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tuning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Info Menu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Info Menu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Information/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System and Camera Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7" >
        
          
          <label class="md-nav__link" for="__nav_6_7" id="__nav_6_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Photos Menu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Photos Menu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PhotoViewer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Photo Viewer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8" >
        
          
          <label class="md-nav__link" for="__nav_6_8" id="__nav_6_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Photo Series Menu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Photo Series Menu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PhotoSeries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Photo Series
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PhotoSeriesTimelapse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Timelapse Series
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PhotoSeriesExp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exposure Series
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PhotoSeriesFocus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Focus Stack Series
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_9" >
        
          
          <label class="md-nav__link" for="__nav_6_9" id="__nav_6_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Trigger Menu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Trigger Menu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Trigger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TriggerTriggers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trigger Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TriggerActions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Action Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TriggerTriggerActions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trigger/Action Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TriggerMotion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Motion Detection Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TriggerCameraActions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Camera Action Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TriggerNotification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notification Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TriggerActive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Active Motion Capturing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TriggerEventViewer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Event Viewer and Calendar
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_10" >
        
          
          <label class="md-nav__link" for="__nav_6_10" id="__nav_6_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cam Menu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cam Menu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Cam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CamWebcam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web Cam Dialog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CamMulticam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Cam Dialog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CamCalibration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Camera Calibration Dialog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CamStereo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stereo Camera Dialog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_11" >
        
          
          <label class="md-nav__link" for="__nav_6_11" id="__nav_6_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Console Menu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Console Menu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Console/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ConsoleVButtons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Versatile Buttons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ConsoleActionButtons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Action Buttons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_12" >
        
          
          <label class="md-nav__link" for="__nav_6_12" id="__nav_6_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Settings Menu
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Settings Menu
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Settings Parameters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SettingsConfiguration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SettingsUsers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SettingsAPI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SettingsVButtons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Settings for Versatile Buttons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SettingsAButtons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Settings for Action Buttons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SettingsDevices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GPIO Device Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_12_8" >
        
          
          <label class="md-nav__link" for="__nav_6_12_8" id="__nav_6_12_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    GPIO Devices
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_12_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_12_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    GPIO Devices
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpioDevices/StepperMotor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stepper Motor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SettingsUpdate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Update
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AiCameraSupport/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI Camera Support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Background%20Processes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Background Processes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    No Camera Mode
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    No Camera Mode
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UserGuide_NoCam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Information_NoCam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Settings_NoCam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SettingsConfiguration_NoCam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../API/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#useful-docker-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Useful Docker commands
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Update Procedure
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-of-docker-on-a-raspberry-pi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation of Docker on a Raspberry Pi
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checking-contiguous-memory-cma" class="md-nav__link">
    <span class="md-ellipsis">
      
        Checking Contiguous Memory (CMA)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deactivate-raspicamsrv-service-from-manual-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deactivate raspiCamSrv Service from manual Installation
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="running-raspicamsrv-as-docker-container">Running <strong>raspiCamSrv</strong> as Docker Container</h1>
<p><a href="../getting_started_overview/"><img alt="Up" src="../img/goup.gif" /></a></p>
<p>A container image is available for <strong>raspiCamSrv</strong> at <a href="https://hub.docker.com/repository/docker/signag/raspi-cam-srv/general">https://hub.docker.com/repository/docker/signag/raspi-cam-srv/general</a></p>
<p><strong>ATTENTION</strong>: Running raspiCamSrv in Docker is still somehow 'experimental'. Successful tests have been done only on Pi 4 and Pi 5. However, not all functions have so far been systematically tested. On Pi Zero W and Pi Zero 2 W, deployment of the image was not successful, probably because of its size (~475 MB).</p>
<p><strong>1. Preconditions</strong></p>
<ul>
<li><a href="#installation-of-docker-on-a-raspberry-pi">Installation of Docker on a Raspberry Pi</a></li>
<li><a href="#checking-contiguous-memory-cma">Check Contiguous Memory (CMA)</a></li>
<li><a href="#deactivate-raspicamsrv-service-from-manual-installation">Deactivate raspiCamSrv Service from manual Installation</a></li>
</ul>
<p><strong>2. Compose Service Definition</strong></p>
<p>In an arbitrary working directory (e.g. <code>~/docker</code>), create</p>
<p><code>compose.yaml</code>:</p>
<pre><code class="language-yml">services:
  raspi-cam-srv:
    image: signag/raspi-cam-srv
    container_name: raspi-cam-srv
    network_mode: &quot;host&quot;
    ports:
      - &quot;5000:5000&quot;
    devices:
      - /dev/video0:/dev/video0
      - /dev/gpiochip0:/dev/gpiochip0
    volumes:
      # Uncomment resource mappings, if required
      # Configure and prepare container-external folders
      #- ./resources/database/:/app/instance/
      #- ./resources/calib_data/:/app/raspiCamSrv/static/calib_data/
      #- ./resources/calib_photos/:/app/raspiCamSrv/static/calib_photos/
      #- ./resources/config/:/app/raspiCamSrv/static/config/
      #- ./resources/events/:/app/raspiCamSrv/static/events/
      #- ./resources/photos/:/app/raspiCamSrv/static/photos/
      #- ./resources/photoseries/:/app/raspiCamSrv/static/photoseries/
      #- ./resources/tuning/:/app/raspiCamSrv/static/tuning/
      - /dev:/dev
      - /sys:/sys
      - /run/udev/:/run/udev:ro
      - /etc/timezone:/etc/timezone:ro
      - /etc/localtime:/etc/localtime:ro
    environment:
      - GPIOZERO_PIN_FACTORY=lgpio
      - SYSTEMD_BUS_ADDRESS=unix:path=/run/systemd/private
    restart: unless-stopped
    privileged: true
</code></pre>
<p>The <em>volumes</em> attribute includes prepared mappings of resource folders for database, <a href="../SettingsConfiguration/">configuration</a>, <a href="../TriggerActive/">events</a>, <a href="../PhotoViewer/">photos</a>, <a href="../PhotoSeries/#photo-series-in-the-file-system">photoseries</a> and <a href="../Tuning/">tuning</a>, which can/should be mapped to container-external folders in order to allow easy access and preserve the data also in case the container is removed or reset after a new image version has been pulled.<br><strong>NOTE</strong>: For a quick test, the container can also be run without these mappings.</p>
<p>Consider that the database holds <a href="../Authentication/">user data</a> as well as <a href="../TriggerActive/">event data</a> which will be lost if the database exists only within the container and if the container is removed.</p>
<p><strong>3. Pull raspi-cam-srv Image</strong></p>
<p><code>docker compose pull raspi-cam-srv</code></p>
<p>Wait until all pulls are completed.</p>
<p><strong>4. Create Container</strong></p>
<p><code>docker compose create raspi-cam-srv</code></p>
<p><img alt="Create Container" src="../img/docker_CreateContainer.jpg" /></p>
<p><strong>5. Start Container</strong></p>
<p><code>docker compose start raspi-cam-srv</code></p>
<p><img alt="Start Container" src="../img/docker_StartContainer.jpg" /></p>
<p><strong>6. Initialize Database</strong></p>
<p>This step is only required if the <code>/app/instance/</code> folder, containing the database, has been mapped to a container-external folder.</p>
<p>The image includes already an initialized database. However, if the <code>/app/instance/</code> is mapped, this database is not visible for the container and an empty database is created which needs to be initialized.</p>
<p>This can be done on an interactive command prompt for the container:</p>
<p><code>docker compose exec raspi-cam-srv sh</code></p>
<p><code>flask --app raspiCamSrv init-db</code></p>
<p><img alt="Initialize DB" src="../img/docker_InitDb.jpg" /></p>
<p><strong>7. Connect to raspiCamSrv</strong></p>
<p>For usage of <strong>raspiCamSrv</strong> see the <a href="../UserGuide/">User Guide</a></p>
<h2 id="useful-docker-commands">Useful Docker commands</h2>
<p>See <a href="https://docs.docker.com/reference/cli/docker/compose/">Docker Reference</a></p>
<ul>
<li>Pull latest image<br><code>docker compose pull raspi-cam-srv</code></li>
<li>Start container<br><code>docker compose start raspi-cam-srv</code></li>
<li>Show server logs<br><code>docker compose logs raspi-cam-srv</code></li>
<li>Open shell for interactive prompt<br><code>docker compose exec raspi-cam-srv sh</code></li>
<li>List containers<br><code>docker container ls</code></li>
<li>List images used by the created containers<br><code>docker compose images</code></li>
<li>Stop container<br><code>docker compose stop raspi-cam-srv</code></li>
<li>Remove container<br><code>docker compose rm raspi-cam-srv</code></li>
<li>List images<br><code>docker image ls</code></li>
<li>Remove an image with a given ID<br><code>docker image rm IMAGE_ID</code></li>
<li>Show docker disk usage<br><code>docker system df</code></li>
<li>Remove unused data<br><code>docker system prune</code></li>
</ul>
<h2 id="update-procedure">Update Procedure</h2>
<p>Changes in the <a href="https://github.com/signag/raspi-cam-srv">raspi-cam-srv Git repository</a> will automatically trigger a new build of the <a href="https://hub.docker.com/repository/docker/signag/raspi-cam-srv">raspi-cam-srv Docker Image</a>.</p>
<p>To update to the latest version, proceed as follows:</p>
<ol>
<li>cd to your working directory, e.g. <code>cd ~/docker</code></li>
<li><code>docker compose pull raspi-cam-srv</code></li>
<li><code>docker compose stop raspi-cam-srv</code></li>
<li><code>docker compose rm raspi-cam-srv</code></li>
<li><code>docker compose create raspi-cam-srv</code></li>
<li><code>docker compose start raspi-cam-srv</code></li>
</ol>
<h2 id="installation-of-docker-on-a-raspberry-pi">Installation of Docker on a Raspberry Pi</h2>
<p>The <a href="https://www.docker.com/">Docker</a> documentation includes descriptions on how to <a href="https://docs.docker.com/engine/install/raspberry-pi-os/">Install Docker Engine on Raspberry Pi OS</a></p>
<p>The most convenient way is using the <a href="https://docs.docker.com/engine/install/raspberry-pi-os/#install-using-the-convenience-script">convenience script</a> provided by the Docker team:</p>
<ol>
<li>Connect to the Pi using SSH: <br><code>ssh &lt;user&gt;@&lt;host&gt;</code><br>with <code>&lt;user&gt;</code> and <code>&lt;host&gt;</code> as specified during setup with Imager.</li>
<li>Update the system<br><code>sudo apt update</code> <br><code>sudo apt full-upgrade</code></li>
<li>Install Docker using the <a href="https://docs.docker.com/engine/install/raspberry-pi-os/#install-using-the-convenience-script">convenience script</a>:<br><code>curl -sSL https://get.docker.com \| sh</code></li>
<li>Add current user to the <code>docker</code> group:<br><code>sudo usermod -aG docker $USER</code></li>
<li>Log out and log in to activate the modified group assignment:<br><code>logout</code><br><code>ssh &lt;user&gt;@&lt;host&gt;</code></li>
<li>Check that Docker is working correctly:<br><code>docker run hello-world</code></li>
</ol>
<h2 id="checking-contiguous-memory-cma">Checking Contiguous Memory (CMA)</h2>
<p>Cameras on Raspberry Pi use CMA memory (see <a href="https://datasheets.raspberrypi.com/camera/picamera2-manual.pdf">Picamera2 Manual</a>, chapter 8.3).
The default size of CMA memory is different for different Raspberry Pi models and can be shown with   <br />
<code>cat /proc/meminfo</code></p>
<p>On a Pi 5, the available CMA memory (~65 MB) was found to be too small for accessing cameras from a Docker container when larger image sizes are used.</p>
<p>The value for <code>CmaTotal</code> should be at least the value found for Raspberry Pi Zero of 262144 kB.</p>
<p>If the value on your system is smaller, it needs to be increased:</p>
<ol>
<li>Edit the Raspberry Pi configuration file:<br><code>sudo nano /boot/firmware/config.txt</code></li>
<li>Find the line<br><code>dtoverlay=vc4-kms-v3d</code><br>and replace it with<br><code>dtoverlay=vc4-kms-v3d,cma-512</code> for &gt; 2GB systems<br><code>dtoverlay=vc4-kms-v3d,cma-384</code> for &gt; 1GB systems<br><code>dtoverlay=vc4-kms-v3d,cma-320</code> for smaller systems</li>
<li>Reboot<br><code>sudo reboot</code></li>
</ol>
<h2 id="deactivate-raspicamsrv-service-from-manual-installation">Deactivate raspiCamSrv Service from manual Installation</h2>
<p>If you have installed raspiCamSrv manually, you need to deactivate the service:</p>
<ol>
<li>Stop the service:<br><code>sudo systemctl stop raspiCamSrv.service</code><br>or<br><code>systemctl --user stop raspiCamSrv.service</code></li>
<li>Disable the service so that it does not automatically start with boot:<br><code>sudo systemctl disable raspiCamSrv.service</code><br>or<br><code>systemctl --user disable raspiCamSrv.service</code></li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": [], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>